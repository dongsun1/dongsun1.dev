---
title: "[프로그래머스] 다트게임 -Javascript"
desc: '카카오톡 게임별의 하반기 신규 서비스로 다트 게임을 출시하기로 했다. 다트 게임은 다트판에 다트를 세 차례 던져 그 점수의 합계로 실력을 겨루는 게임으로, 모두가 간단히 즐길 수 있다.
갓 입사한 무지는 코딩 실력을 인정받아 게임의 핵심 부분인 점수 계산 로직을 맡게 되었다. 다트 게임의 점수 계산 로직은 아래와 같다.'
date: 2022/04/04
category: Algorithm
---

## 다트 게임
### 문제 설명
카카오톡에 뜬 네 번째 별! 심심할 땐? 카카오톡 게임별~
![](https://media.vlpt.us/images/le12352/post/23b6c67f-9b16-4dca-a0aa-6da83640a88d/image.png)
카카오톡 게임별의 하반기 신규 서비스로 다트 게임을 출시하기로 했다.

다트 게임은 다트판에 다트를 세 차례 던져 그 점수의 합계로 실력을 겨루는 게임으로, 모두가 간단히 즐길 수 있다.

갓 입사한 무지는 코딩 실력을 인정받아 게임의 핵심 부분인 점수 계산 로직을 맡게 되었다. 다트 게임의 점수 계산 로직은 아래와 같다.

1. 다트 게임은 총 3번의 기회로 구성된다.
2. 각 기회마다 얻을 수 있는 점수는 0점에서 10점까지이다.
3. 점수와 함께 Single(S), Double(D), Triple(T) 영역이 존재하고 각 영역 당첨 시 점수에서 1제곱, 2제곱, 3제곱 (점수1 , 점수2 , 점수3 )으로 계산된다.
4. 옵션으로 스타상(*) , 아차상(#)이 존재하며 스타상(*) 당첨 시 해당 점수와 바로 전에 얻은 점수를 각 2배로 만든다. 아차상(#) 당첨 시 해당 점수는 마이너스된다.
5. 스타상(*)은 첫 번째 기회에서도 나올 수 있다. 이 경우 첫 번째 스타상(*)의 점수만 2배가 된다. (예제 4번 참고)
6. 스타상(*)의 효과는 다른 스타상(*)의 효과와 중첩될 수 있다. 이 경우 중첩된 스타상(*) 점수는 4배가 된다. (예제 4번 참고)
7. 스타상(*)의 효과는 아차상(#)의 효과와 중첩될 수 있다. 이 경우 중첩된 아차상(#)의 점수는 -2배가 된다. (예제 5번 참고)
8. Single(S), Double(D), Triple(T)은 점수마다 하나씩 존재한다.
9. 스타상(*), 아차상(#)은 점수마다 둘 중 하나만 존재할 수 있으며, 존재하지 않을 수도 있다.

0~10의 정수와 문자 S, D, T, *, #로 구성된 문자열이 입력될 시 총점수를 반환하는 함수를 작성하라.

### 입력 형식
"점수|보너스|[옵션]"으로 이루어진 문자열 3세트.
예) 1S2D*3T

- 점수는 0에서 10 사이의 정수이다.
- 보너스는 S, D, T 중 하나이다.
- 옵선은 *이나 # 중 하나이며, 없을 수도 있다.
### 출력 형식
3번의 기회에서 얻은 점수 합계에 해당하는 정수값을 출력한다.
예) 37

### 입출력 예제
|예제|dartResult|answer|설명|
| - | - | - | - |
|1|1S2D*3T|37|11 * 2 + 22 * 2 + 33|
|2|	1D2S#10S	|9|	12 + 21 * (-1) + 101|
|3|	1D2S0T|	3|	12 + 21 + 03|
|4|	1S*2T*3S|	23|	11 * 2 * 2 + 23 * 2 + 31|
|5|	1D#2S*3S|	5|	12 * (-1) * 2 + 21 * 2 + 31|
|6|	1T2D3D#|	-4|	13 + 22 + 32 * (-1)|
|7|	1D2S3T*|	59|	12 + 21 * 2 + 33 * 2|

### 문제 풀이
```javascript
function solution(dartResult){
	var answer = 0;
    let temp = [];
    for (let i = 0; i < dartResult.length; i++) {
        let index = temp.length - 1;
        // 숫자인지 문자인지 체크
        if (Number.isInteger(parseInt(dartResult[i]))) {
            let num = 0;
            // 숫자가 10인지 아닌지 체크
            dartResult[i + 1] === '0' ? (num = 10, i++) : num = parseInt(dartResult[i]);
            // 'S', 'D', 'T' 체크
            if (dartResult[i + 1] === 'S') {
                temp.push(num);
            }else if (dartResult[i + 1] === 'D') {
                temp.push(num ** 2);
            }else if (dartResult[i + 1] === 'T') {
                temp.push(num ** 3);
            }
        }else if (dartResult[i] === '*') {
            if (index === 0) { // 첫 번째 기회에 스타상이 나오면 첫 번째 점수만 2배
                temp[index] = temp[index] * 2;
            }else {
                temp[index] = temp[index] * 2;
                temp[index - 1] = temp[index - 1] * 2;
            }
        }else if (dartResult[i] === '#') {
            temp[index] = temp[index] * (-1);
        }
    }
    let result = temp.reduce((a, b) => a + b);
    return result;
}
```
1. 먼저 입력받은 문자열의 처음부터 숫자인지 문자인지 체크한다.
2. 숫자라면 10인지 아닌지 체크한다.
3. 10이라면 다음 문자열로 i++을 통해 다음 문자열로 넘어가고 아니라면 그대로 넘어간다.
4. 숫자의 다음 문자가 "S", "D", "T"중 무엇인지 체크한다.
5. 그에 맞게 temp배열이 푸쉬한다.
6. 숫자가 아니라 "*"인경우 첫 번째 기회에 스타상이 나왔는지 체크한다.
7. 첫 번째 기회에 스타상이 나오면 첫 번째 점수만 2배를 하고 아니라면 두 점수 모두 2배를 한다.
8. 숫자, "*"이 아니라 "#"인 경우 -1을 곱해준다.
9. temp배열의 모든 숫자를 더해서 리턴한다.

### 다른 사람의 풀이
```javascript
function solution(dartResult) { 
  const object = { 
    "S": 1,
    "D": 2,
    "T": 3,
    "*": 2,
    "#": -1,
    'undefined': 1
  }
  let darts = dartResult.match(/\d.?\D/g) 
  for(let i = 0; i<darts.length; i++) { 
    const dart = darts[i].match(/(\d{1,})(\S|D|T)(\*|#)?/) 
    const score = Math.pow(dart[1], object[dart[2]]) * object[dart[3]] 
    if(darts[i-1] && dart[3] === '*') {
      darts[i-1] *= object['*'] 
    } 
    darts[i] = score; 
  }
  return darts.reduce((a, b) => a + b); 
}
```
이 분은 정규식을 활용해서 문제를 풀었다.
#
처음 darts에서 사용한 적규식을 해석하면, 숫자들을 가져오고, 숫자 다음에 숫자나 글자 등 어떤 글자라도 있으면 한 글자를 가져오고, 없으면 안 가져와도 된다는 뜻이며, D는 숫자가 아닌 것을 가져와라라고 해서, 1S2D*3T를 정규식으로 분해하면 1S 2D* 3T로 각각 나눌 수 있다.
#
그 후 dart에서 사용한 정규식은, 1S 2D* 3T에서도 각각의 숫자와 문자를 나눈다. 먼저 1에서 10까지의 숫자를 문제에서 받을 수 있으니, d{1,}은 숫자에서도 첫 번째 숫자부터 제한 없이 모든 숫자를 가져오는 정규식이다. 그리고 S|D|T는 S 또는 D 또는 T를 가져오는 식이며, \*|#은 * 또는 #을 구분하라는 정규식이다.
#
정규식을 통해 문자를 원하는 대로 구분했고, 식을 계산했다.

## 느낀점
하나하나 손코딩하면서 경우의 수들을 확인하며 풀었다.

문제를 풀면 풀수록 손코딩이 얼마나 중요한지 알 수 있었다. 

다른 사람들의 풀이를 많이 찾아보았는데, 나와 비슷한 풀이를 한 사람이 대부분이였고, 정규식을 활용해서 푼 사람은 드물었다.

정규식을 이 문제에서 활용할 수 있을지 몰랐는데 신기했다. 

정규식을 더 공부해서 정규식을 내 마음대로 쓸 수 있게 되려고 노력해야겠다.
